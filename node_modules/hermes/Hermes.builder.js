/**
 * This file/module contains all configuration for the hermes build process.
 */
module.exports = {
 
  initHermesBuilder: function(grunt, userConfig, taskConfig, buildTasks, compileTasks){

    var environment = grunt.cli.options.hermesEnvironment;

    console.log("Starting build for environment: "+environment);

    var hermesConfig = require('./Hermes.build.config.js');
    var hermesGenerator = require('./Hermes.generator.js');

    hermesConfig.injectSettings(userConfig, environment);
    hermesGenerator.generateHRM('./hermes.js', grunt);
    hermesGenerator.injectToVendorFiles(userConfig);

    hermesConfig.injectHermesTasksIntoTask(taskConfig, 'build_app_assets', environment, buildTasks, compileTasks);
    //hermesConfig.injectTasks(taskConfig);

    // if(hermesConfig.tasksForBuild && hermesConfig.tasksForBuild[grunt.cli.options.hermesEnvironment]){
		//   var hermesTasksForBuild = hermesConfig.tasksForBuild[grunt.cli.options.hermesEnvironment];
		//   hermesTasks = hermesTasks.concat(hermesTasksForBuild);
		// }

  }
	 
  
};
